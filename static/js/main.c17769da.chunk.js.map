{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/pencil.png","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupConfirmationDelete.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","onCardDeleteClick","link","name","id","e","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","item","onCardDelete","Footer","ImagePopup","useEffect","handleClosePopupOnEsc","code","onClose","document","addEventListener","removeEventListener","target","currentTarget","api","options","this","_options","res","ok","json","Promise","reject","status","fetch","baseUrl","headers","authorization","then","_answerForServer","method","body","JSON","stringify","nameCard","linkCard","methodParametr","PopupWithForm","isOpen","querySelector","reset","title","onSubmit","children","EditProfilePopup","useState","setName","setAbout","preventDefault","onUpdateUser","placeholder","minLength","maxLength","value","onChange","required","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setNameCard","setLinkCard","PopupConfirmationDelete","onYes","App","isConfirmationDelete","setIsConfirmationDelete","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","setCurrentUser","selectedCard","setSelectedCard","selectedCardForDelete","setSelectedCardForDelete","setCards","getProfileInfo","catch","err","console","log","getInitialCards","closeAllPopups","Provider","state","elem","changeLikeCardStatus","newCard","postProfileInfo","postProfileAvatar","postCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c17769da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"./../images/logo.svg\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <img src={logo} alt=\"Лого\" className=\"header__logo\" />\r\n            </header>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`\r\n    ); \r\n\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked && 'element__like-button_active'}`\r\n    );\r\n    \r\n    const handleDeleteClick = () => {\r\n        props.onCardDeleteClick(props.card)\r\n    }\r\n\r\n    const handleClick = (e) => {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img src={props.card.link} className=\"element__image\" alt={props.card.name} id=\"image\" onClick={handleClick} />\r\n            <div className=\"element__down-sector\">\r\n                <h2 className=\"element__title\">{props.card.name}</h2>\r\n                <div className=\"element__like\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <p className=\"element__like-count\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport pencil from \"./../images/pencil.png\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\r\n                    <img src={currentUser && currentUser.avatar} alt=\"Аватарка\" className=\"profile__avatar\" />\r\n                    <div className=\"profile__avatar-overlay\">\r\n                        <img src={pencil} alt=\"Иконка\" className=\"profile__avatar-icon\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title profile__title-text\">{currentUser && currentUser.name}</h1>\r\n                    <p className=\"profile__subtitle\">{currentUser && currentUser.about}</p>\r\n                    <button type=\"button\" className=\"profile__edit profile__edit-button\" id=\"ed2it\" onClick={props.onEditProfile}></button>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\" id=\"addButton\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section className=\"gallery\">\r\n                <ul className=\"elements\">\r\n                    {props.cards.map((item) => (\r\n                        <Card key={item._id} onCardClick={props.onCardClick} card={item} onCardDeleteClick={props.onCardDelete} onCardLike={props.onCardLike} />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\"","function Footer() {\r\n    return (\r\n        <>\r\n            <footer className=\"footer\">\r\n                <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n            </footer>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        };\r\n        if (props.card) {\r\n            document.addEventListener(\"keyup\", handleClosePopupOnEsc);\r\n        }\r\n        return () => document.removeEventListener(\"keyup\", handleClosePopupOnEsc);\r\n    });\r\n\r\n    return (\r\n        <div className={`popup popup_gallery ${props.card && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n            <div className=\"full-image\">\r\n                <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                <figure className=\"full-image__container\">\r\n                    <img src={props.card?.link} alt={props.card?.name} className=\"full-image__image\" />\r\n                    <figcaption className=\"full-image__caption\">{props.card?.name}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    constructor(options) {\r\n        this._options = options;\r\n    }\r\n\r\n    _answerForServer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getProfileInfo() {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    postProfileInfo(name, about) {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    postProfileAvatar(avatar) {\r\n        return fetch(`${this._options.baseUrl}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: avatar,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    postCard(nameCard, linkCard) {\r\n        return fetch(`${this._options.baseUrl}/cards`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                name: nameCard,\r\n                link: linkCard,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n        const methodParametr = isLiked ? \"DELETE\" : \"PUT\";\r\n        return fetch(`${this._options.baseUrl}/cards/likes/${id}`, {\r\n            method: methodParametr,\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._options.baseUrl}/cards`, {\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._options.baseUrl}/cards/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                authorization: `${this._options.authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n}\r\n\r\nconst apiOptions = {\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-24\",\r\n    authorization: \"ebb98a36-70e4-466a-8500-5c6ce9301133\",\r\n};\r\n\r\nconst api = new Api(apiOptions);\r\n\r\nexport default api;\r\n ","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        }\r\n        if (props.isOpen) {\r\n            document.addEventListener('keyup', handleClosePopupOnEsc);\r\n        } \r\n        return () => {\r\n            document.removeEventListener('keyup', handleClosePopupOnEsc);\r\n        }\r\n    }, [props, props.isOpen]);\r\n\r\n    React.useEffect(() => {\r\n        document.querySelector(`.${props.name}`).reset();\r\n    }, [props, props.isOpen])\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_${props.name} ${props.isOpen && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n                <div className=\"popup__container\">\r\n                    <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                    <h2 className=\"popup__container-title\">{props.title}</h2>\r\n                    <form name={props.name} className={`form ${props.name}`} onSubmit={props.onSubmit}>\r\n                        {props.children}\r\n                    <button type=\"submit\" \r\n                        className=\"popup__container-submit-button popup__container-submit-button_edit-button\">\r\n                        Сохранить\r\n                    </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState();\r\n    const [about, setAbout] = React.useState();\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const handleChangeDescription = (e) => {\r\n        setAbout(e.target.value);\r\n    }\r\n\r\n    function handleSubmitProfile(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser(name, about);\r\n    } \r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setAbout(currentUser.about);\r\n      }, [currentUser, props.isOpen]); \r\n\r\n    return (\r\n            <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmitProfile}>\r\n        <>\r\n            <input type=\"text\" name=\"name\" \r\n                placeholder=\"Имя\" id=\"fio-input\" \r\n                className=\"popup__input popup__input_type_name\" \r\n                minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} \r\n                required />\r\n            <span className=\"popup__input-error fio-input-error\"></span>\r\n            <input type=\"text\" name=\"about\" placeholder=\"О себе\" \r\n                id=\"info-input\" className=\"popup__input popup__input_type_info\" \r\n                minLength=\"2\" maxLength=\"200\" value={about || ''} onChange={handleChangeDescription}\r\n                required />\r\n            <span className=\"popup__input-error info-input-error\"></span>\r\n        </>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatar = React.useRef();\r\n\r\n    const handleSubmitAvatar = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(avatar.current.value);\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmitAvatar}>\r\n            <>\r\n                <input type=\"url\" name=\"avatar\" ref={avatar} placeholder=\"Ссылка на картинку\" id=\"avatar-input\" className=\"popup__input popup__input_avatar\" required />\r\n                <span className=\"popup__input-error avatar-input-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [nameCard, setNameCard] = React.useState();\r\n    const [linkCard, setLinkCard] = React.useState();\r\n\r\n    const handleSubmitPlaceAdd = (e) => {\r\n        e.preventDefault();\r\n        props.onAddPlace(nameCard, linkCard);\r\n    };\r\n\r\n    const handleChangeNameCard = (e) => {\r\n        setNameCard(e.target.value);\r\n    }\r\n\r\n    const handleChangeLinkCard = (e) => {\r\n        setLinkCard(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmitPlaceAdd}>\r\n            <>\r\n                <input type=\"text\" name=\"name\" placeholder=\"Название\" id=\"name-input\" \r\n                className=\"popup__input popup__input_name_card\" minLength=\"2\" maxLength=\"30\" onChange={handleChangeNameCard} required />\r\n                <span className=\"popup__input-error name-input-error\"></span>\r\n                <input type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" id=\"foto-input\" \r\n                className=\"popup__input popup__input_foto_card\" onChange={handleChangeLinkCard} required />\r\n                <span className=\"popup__input-error foto-input-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupConfirmationDelete(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        }\r\n        if (props.isOpen) {\r\n            document.addEventListener('keyup', handleClosePopupOnEsc);\r\n          } \r\n        return () => {\r\n            document.removeEventListener('keyup', handleClosePopupOnEsc);\r\n        }\r\n    }, [props, props.isOpen]);\r\n\r\n    return (\r\n        <div className={`popup popup_imageDelete ${props.isOpen && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                <h2 className=\"popup__container-title popup__container-title_mb\">Вы уверены?</h2>\r\n                <button type=\"button\" className=\"popup__container-submit-button popup__container-submit-button_delete-button\" onClick={props.onYes}>\r\n                    Да\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupConfirmationDelete;\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport PopupConfirmationDelete from \"./PopupConfirmationDelete\";\n\nfunction App() {\n    const [isConfirmationDelete, setIsConfirmationDelete] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [selectedCard, setSelectedCard] = React.useState();\n    const [selectedCardForDelete, setSelectedCardForDelete] = React.useState([]);\n    const [cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getProfileInfo()\n            .then((res) => setCurrentUser(res))\n            .catch((err) => console.log(err));\n    }, []);\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((res) => {\n                setCards(res);\n            })\n            .catch((err) => console.log(err));\n    }, []);\n\n    const handleDeleteCard = () => {\n        api.deleteCard(selectedCardForDelete._id)\n            .then((res) => {\n                setCards(() => cards.filter((card) => card._id !== selectedCardForDelete._id));\n                setIsConfirmationDelete(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleDeleteClick = (card) => {\n        setSelectedCardForDelete(card);\n        setIsConfirmationDelete(true);\n    }\n\n    const handleCardLike = (props) => {\n        const isLiked = props.likes.some((i) => i._id === currentUser._id);\n        api.changeLikeCardStatus(props._id, isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((card) => (card._id === props._id ? newCard : card)));\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen((state) => !state);\n    };\n\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen((state) => !state);\n    };\n\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen((state) => !state);\n    };\n\n    const handleCardClick = (elem) => setSelectedCard(elem);\n\n    const closeAllPopups = () => {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsConfirmationDelete(false);\n        setSelectedCard(null);\n        setSelectedCardForDelete(null);\n    };\n\n    const handleUpdateUser = (name, about) => {\n        api.postProfileInfo(name, about)\n            .then((res) => {\n                setCurrentUser(res);\n                setIsEditProfilePopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleUpdateAvatar = (avatar) => {\n        api.postProfileAvatar(avatar)\n            .then((res) => {\n                setCurrentUser(res);\n                setIsEditAvatarPopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleAddPlaceSubmit = (nameCard, linkCard) => {\n        api.postCard(nameCard, linkCard)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                setIsAddPlacePopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    return (\n        <>\n            <CurrentUserContext.Provider value={currentUser}>\n                <div className=\"page\">\n                    <Header />\n                    <Main\n                        onEditAvatar={handleEditAvatarClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onEditProfile={handleEditProfileClick}\n                        onCardClick={handleCardClick}\n                        cards={cards}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleDeleteClick}\n                    />\n                    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n                    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n                    <PopupConfirmationDelete isOpen={isConfirmationDelete} onClose={closeAllPopups} onYes={handleDeleteCard} />\n                    <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n                    <Footer />\n                </div>\n            </CurrentUserContext.Provider>\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}